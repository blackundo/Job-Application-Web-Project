import{u as p,r as h,b as u,j as s,a as i,c as f,i as g}from"./index-086af904.js";import{S as j,L as w}from"./Social-7feeb47e.js";import{k as N,Q as l,T as c}from"./ToastCustom-04043a57.js";const v=()=>{const n=p(),[o,m]=h.useState({email:"",password:""}),d=u(),r=e=>{const{name:t,value:a}=e.target;m({...o,[t]:a})},x=async()=>{const e=l.loading("Please wait...",{autoClose:!1});await f({method:"POST",maxBodyLength:1/0,url:"http://localhost:80/api/authenticate",headers:{"Content-Type":"application/json"},data:o}).then(t=>{l.dismiss(e);const a=t.data;n({type:"LOGIN",payload:a}),l.dismiss(e),c.success("Welcome to back!",{autoClose:2500}),n(g(a==null?void 0:a.access_token)),setTimeout(()=>{d("/")},2500)}).catch(t=>{l.dismiss(e),c.error("ðŸ™…â€â™‚ï¸Registration failed. Please try again."),console.log(t)})};return s.jsxs(s.Fragment,{children:[s.jsx(N,{position:"bottom-right",autoClose:1600,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),s.jsxs("span",{className:"absolute top-6 right-14",children:["Donâ€™t have an account?",s.jsx(i,{to:"/chooseRole",className:"text-[#000084] cursor-pointer",children:"Register now"})]}),s.jsxs("div",{className:"box-login w-[23rem] pt-20 max-md:w-[19rem]",children:[s.jsx("h1",{className:"text-2xl font-semibold font-serif pb-7",children:"Login"}),s.jsxs("div",{className:"form-login w-full ",children:[s.jsxs("div",{className:"flex flex-col py-2",children:[s.jsx("label",{htmlFor:"",className:"font-normal text-x",children:"Email"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"email",name:"email",placeholder:"Email Address",className:"pl-3 w-full h-[40px] rounded-md",value:o.email,onChange:e=>r(e)})})]}),s.jsxs("div",{className:"flex flex-col py-2",children:[s.jsx("label",{htmlFor:"",className:"font-normal text-x",children:"Password"}),s.jsx("div",{className:"relative",children:s.jsx("input",{type:"password",name:"password",placeholder:"Your Password",className:"pl-3 w-full h-[40px] rounded-md",value:o.password,onChange:e=>r(e)})})]}),s.jsx(i,{to:"/forgotPass",className:"text-blue-600 text-sm font-normal",children:"Forgot Password?"}),s.jsx("button",{className:"bg-[#133FA0] w-full h-12 rounded-md text-white my-3 text-[1.2rem] font-normal",onClick:x,children:"Login"}),s.jsxs("div",{className:"flex items-center w-full ",children:[s.jsx("span",{className:"flex-grow-[1] h-[1px] bg-slate-500 mx-2 opacity-40"}),s.jsx("span",{className:"uppercase font-semibold",children:"OR"}),s.jsx("span",{className:"flex-grow-[1] h-[1px] bg-slate-500 mx-2 opacity-40"})]})]}),s.jsx(j,{})]})]})},C=()=>s.jsx(w,{children:s.jsx(v,{Title:"Login",titleBtn:"Login"})});export{C as default};
